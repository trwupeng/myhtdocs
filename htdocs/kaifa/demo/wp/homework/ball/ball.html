<html><head>

<meta http-equiv="pragma " content="no-cache "> 
        <meta http-equiv="Cache-Control " content="no-cache,   must-revalidate "> 
        <meta http-equiv="expires " content="Wed,   26   Feb   1978   08:21:57   GMT ">
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/evlisten.js"></script>
    <style>
        * {
            margin: 0;

            padding: 0;

            border: 0px solid;

        }
        audio{
            display: none;
        }

        .div1 {

            margin: 0;

            padding: 0;

            width: 100%;

            height: 30px;

            background-color: gainsboro;

        }

        #div2 {

            position: absolute;

            bottom: 0;

        }

        .display {

            display: none;

        }

        .t4 {

            border-collapse: collapse;

            width: 800px;
            height: 600px;
            margin: auto;

        }

        .first {

            vertical-align: top;

        }

        td {

            text-align: center;

            border: 1px solid;

            border-color: gainsboro;

        }

        .tdlr {

            width: 200px;

        }

        .td11 {

            text-align: right;

            width: 100%;

            border: 0px;

        }

        .td12 {

            width: auto;

        }

        .td13 {

            width: auto;

        }
        .td14{
            width: 600px;
        }

        .td1 {

            width: 450px;

        }

        body {

            color: grey;

            background-color: white;

            text-align: center;

            font-family: '微软雅黑';

            height: 100%;

        }

        #can2 {

            position: absolute;

        }

        canvas {


            border: 1px solid;

            border-color: gainsboro;

            border-radius: 10px;

        }

        button {

            width: 50px;

        }

        .noborder {

            border: 0;

        }

    </style>

</head>

<body>

<script type="text/javascript">

    document.body.oncontextmenu = document.body.ondragstart = document.body.onselectstart = document.body.onbeforecopy = function () {
        return false;
    };

    document.body.onselect = document.body.oncopy = document.body.onmouseup = function () {
       
    }; </script>

<script>

    $(document).ready(function () {

        $('#div3').fadeIn(1000, function () {


                main();


        });     


    });

</script>

<div id="div1" class="div1 display">top menu</div>

<div id="div3" class="display" style="display: block;">

    <table id="table1" class="t4">

        <tbody><tr>

            <td class="tdlr">

                <table>

                    <tbody><tr>

                        <td class="td11">x坐标:<a id="a1">320</a></td>

                    </tr>

                    <tr>

                        <td class="td11">y坐标:<a id="a2">320</a></td>

                    </tr>

                    <tr>

                        <td class="td11">x速度:<a id="a3">4</a></td>

                    </tr>

                    <tr>

                        <td class="td11">y速度:<a id="a4">4</a></td>

                    </tr>

                    <tr>

                        <td class="td11">生存:<a id="a5">true</a></td>

                    </tr>

                    <tr>

                        <td class="td11">

                            <button id="b1" style="background-color: red;color: white">开始</button>

                        </td>

                    </tr>

                    <tr>

                        <td class="td11">

                            <button id="b4">复活</button>

                        </td>

                    </tr>

                    <tr>

                        <td class="td11">

                            <button id="b2">无敌</button>

                        </td>

                    </tr>

                    <tr>

                        <td class="td11">

                            <button id="b3">作死</button>

                        </td>

                    </tr>

                    <tr>

                        <td class="td11">点击x:<a id="a11"> 0 </a></td>

                    </tr>

                    <tr>

                        <td class="td11">点击y:<a id="a12"> 0 </a></td>

                    </tr>

                    <tr>

                        <td class="td11">鼠标x:<a id="a13">1226</a></td>

                    </tr>

                    <tr>

                        <td class="td11">鼠标y:<a id="a14">403</a></td>

                    </tr>

                    <tr>

                        <td class="td11">敌军数量:<a id="a16" style="font-size: 20px;color: blue">10</a>个</td>

                    </tr>

                    <tr>

                        <td class="td11">你存活了<a id="a15">0.3</a>秒</td>

                    </tr>

                    <tr>

                        <td class="td11">操作说明:<a style="color: red">wasd控制移动</a></td>

                    </tr>

                    <tr>

                        <td class="td11"><a>[版本号：1.6.3266]</a></td>

                    </tr>

                </tbody></table>

            </td>

            <td class="noborder td14">
                <audio src="sound/dead.mp3" controls="controls" id="dead"></audio>
                <audio src="sound/bgm2.mp3" controls="controls" id="bgm"></audio>
                <audio src="sound/sad.mp3" controls="controls" id="sad"></audio>

                <canvas id="can1" class="can" width="600" height="600">你的浏览器好像不支持这么先进的技术哟！</canvas>

            </td>


            <!--<td class="tdlr first">

                <a style="color: black;font-size: 5px;float: left">2014/08/08 更新说明：</a>

                <br/>

                <a style="font-size: 8px">随机背景；眨眼动画；优化得分算法；每次复活会减少敌军数量；开始按钮</a>

                <hr/>

                <a style="color: black;font-size: 5px;float: left">2014/08/07 更新说明：</a>

                <br/>

                <a style="font-size: 8px;float: left">增加了死亡弹窗设置复活按钮；彩色方块会随时间增多并且其数量会计入得分；加入会追踪玩家的方块

                    ；给玩家角色添加眼球；添加死亡白屏效果。</a>

            </td>-->

        </tr>

    </tbody></table>

</div>

<div id="div2" class="div1 display">bottom menu</div>

<!-----------------JS--------------------------------------------------------------------------------------------->

<script>

var init = function () {

    g_w = document.getElementById('can1').width = 600;

    g_h = document.getElementById('can1').height = 600;

    g_d =0;

    g_close=false;
    g_closetime=0;

    g_gamebegin = false;

    g_gametime = 0; 

    g_animotiontime = 0;

    g_alphaswitch = false;

    g_blink = false;

    g_score = 0;

    g_beginbgalpha = 0;

    g_god = false;

    g_pinknum = 0;

    g_gravity = 1;

    g_alive = true;

    g_alivetime = 0;

    g_interalpha = 0;

    g_gravityinit = g_gravity;

    g_die = false;

    g_diebegin = 0;

    g_bgimgnum = 6;

    g_up_alivetime='';   
    
    t=null;

    b=null;
    
    d=null;

    c = document.getElementById('can1').getContext('2d');

    ismousein = false;

    ismousedown = false;

    img_bg = new Image();

    img_bg.src = 'img/bgg1.jpg';

    bgimgarr = new Array();

    bg = new Bg(img_bg, 150, 150);

    player = new Player(320, 320, 20, 20, '#FFDBC3', 4, 4, 999);

    ballarr = new Array(
            new Player(300, 0, 200, 200, 'orange', 0.8, 0.5, 1),

            new Player(1, 320, 20, 20, 'red', 4, 3.5, 1),

            new Player(320, 1, 20, 20, 'blue', 3, 3.5, 1),

            new Player(600, 320, 20, 20, 'orange', 3, 3.5, 1),

            new Player(0, 160, 20, 20, 'orange', 2, 2.5, 1),

            new Player(0, 560, 20, 20, 'orange', 4, 3.5, 1),

            new Player(600, 400, 20, 20, 'orange', 1, 2, 1),

            new Player(0, 400, 60, 60, 'yellow', 1, 1.5, 1),

            new Player(390, 610, 10, 10, 'orange', 3, 4, 1),

            new Player(320, 600, 20, 20, 'yellow', 10, 12, 102)     

    );
    
    

    for (var i = 1; i <= g_bgimgnum; i++) {

        bgimgarr.push('img/bgg' + i + '.jpg');

    }

}


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('4 5=6(){1();3();2();a=0(b,c);7=0(8,9)}',13,13,'setInterval|init|jquery|evlisten|var|main|function|set2|time|100|set1|draw|16'.split('|'),0,{}))


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('4 1=9(){b=3(8(d));c.a(0,0,6,5);7.1();e(4 i=0;i<(2.k);i++){2[i].1()}g.1();h=3(f.j)}',21,21,'|draw|ballarr|fisker_encode_v2|var|g_h|g_w|bg|String|function|clearRect|||g_alivetime|for|img_bg|player|z||src|length'.split('|'),0,{}))


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('k T=V(){k g,f,h;k m,p,o;k w,x,y;t=Q(c);A++;2(l>10){l=0;B=9}2(B){l++}2(!13&&A>3){C(X);C(W)}2(c){17()}2(z&&(6-J)>I){c=9;z=9;H=9}2(c&&6>0&&6%n==0){g=b.q();f=b.q();h=b.q();m=b.r(u*g);p=b.r(u*f);o=b.r(u*h);w=5+g*K;2(f<0.5){x=0}a{x=N-w}2(h<0.5){y=0}a{y=M-w}2(i.v<D||6>L&&i.v<G||6>F&&i.v<n){i.E(Y Z(x,y,w,w,\'11(\'+m+\',\'+p+\',\'+o+\')\',0.8+g,0.8+f,15))}}2(c){j=0;6++;4++;2(6==1||6%n==0){4=0}2(4>5&&4<10){e=s}a 2(4>=10&&4<12){e=9}a 2(4>=12&&4<14){e=s}a 2(4>=14&&4<16){e=9}a 2(4>=16&&4<18){e=s}a 2(4>=18&&4<D){e=9}}2(!c){d=R.O;2(d==\'\'){d=\'P\'}d=U(d);j+=0.S;2(j>=0.7){j=0.7}}}',62,71,'||if||g_animotiontime||g_alivetime|||false|else|Math|g_alive||g_blink|r2|r1|r3|ballarr|g_interalpha|var|g_closetime|rgb1|30|rgb3|rgb2|random|floor|true||255|length||||g_die|g_gametime|g_close|clearInterval|20|push|200|25|g_god|50|g_diebegin|80|100|g_h|g_w|username|路人|String|parent|08|time|fisker_encode_v2|function|set2|set1|new|Player||rgb||g_gamebegin||845||changebg|'.split('|'),0,{}))




eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('d b(3){6 4=[],c=\'\',1=\'\';3=3.a(\'\');e(6 i=0,5=3.5;i<5;i++){c=3[i];1=7(c);9(1==c){1=c.8().f(n);1=(\'o\'+1).p(-2)}4.j(1)}h 4.k(\'\').m(/%/g,\'\').l()}',26,26,'|ec||s|es|length|var|encodeURIComponent|charCodeAt|if|split|fisker_encode_v2||function|for|toString||return||push|join|toUpperCase|replace|16|00|slice'.split('|'),0,{}))


var hexcase = 0;  
var b64pad  = ""; 
var chrsz   = 8;  
function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}
function b64_md5(s){ return binl2b64(core_md5(str2binl(s), s.length * chrsz));}
function hex_hmac_md5(key, data) { return binl2hex(core_hmac_md5(key, data)); }
function b64_hmac_md5(key, data) { return binl2b64(core_hmac_md5(key, data)); }
function calcMD5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}

function md5_vm_test()
{
  return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
}

function core_md5(x, len)
{

  x[len >> 5] |= 0x80 << ((len) % 32);
  x[(((len + 64) >>> 9) << 4) + 14] = len;
  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;
  for(var i = 0; i < x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;

    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);
    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);
    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);
    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);
    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);
    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);
    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);
    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);
    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);
    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);
    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);
    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);
    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);
    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);
    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);
    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);
    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);
    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);
    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);
    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);
    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);
    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);
    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);
    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);
    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);
    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);
    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);
    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);
    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);
    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);
    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);
    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);
    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);
    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);
    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);
    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);
    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);
    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);
    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);
    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);
    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);
    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);
    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);
    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);
    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);
    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);
    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);
    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);
    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);
    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);
    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);
    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);
    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);
    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);
    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);
    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);
    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);
    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);
    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);
    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);
    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);
    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);
    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);
    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
  }
  return Array(a, b, c, d);
  
}

eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('9 n(q,a,b,x,s,t){e m(O(m(m(a,q),m(x,t)),s),b)}9 W(a,b,c,d,x,s,t){e n((b&c)|((~b)&d),a,b,x,s,t)}9 V(a,b,c,d,x,s,t){e n((b&d)|(c&(~d)),a,b,x,s,t)}9 U(a,b,c,d,x,s,t){e n(b^c^d,a,b,x,s,t)}9 X(a,b,c,d,x,s,t){e n(c^(b|(~d)),a,b,x,s,t)}9 Y(G,r){7 k=B(G);R(k.h>16)k=u(k,G.h*l);7 F=E(16),p=E(16);o(7 i=0;i<16;i++){F[i]=k[i]^10;p[i]=k[i]^Z}7 Q=u(F.T(B(r)),P+r.h*l);e u(p.T(Q),P+11)}9 m(x,y){7 D=(x&A)+(y&A);7 M=(x>>16)+(y>>16)+(D>>16);e(M<<16)|(D&A)}9 O(z,w){e(z<<w)|(z>>>(H-w))}9 B(g){7 C=E();7 L=(1<<l)-1;o(7 i=0;i<g.h*l;i+=l)C[i>>5]|=(g.19(i/l)&L)<<(i%H);e C}9 1c(f){7 v=18?"13":"12";7 g="";o(7 i=0;i<f.h*4;i++){g+=v.I((f[i>>2]>>((i%4)*8+4))&S)+v.I((f[i>>2]>>((i%4)*8))&S)}e g}9 14(f){7 K="1a+/";7 g="";o(7 i=0;i<f.h*4;i+=3){7 N=(((f[i>>2]>>8*(i%4))&J)<<16)|(((f[i+1>>2]>>8*((i+1)%4))&J)<<8)|((f[i+2>>2]>>8*((i+2)%4))&J);o(7 j=0;j<4;j++){R(i*8+j*6>f.h*H)g+=17;15 g+=K.I((N>>6*(3-j))&1b)}}e g}',62,75,'|||||||var||function|||||return|binarray|str|length|||bkey|chrsz|safe_add|md5_cmn|for|opad||data|||core_md5|hex_tab|cnt|||num|0xFFFF|str2binl|bin|lsw|Array|ipad|key|32|charAt|0xFF|tab|mask|msw|triplet|bit_rol|512|hash|if|0xF|concat|md5_hh|md5_gg|md5_ff|md5_ii|core_hmac_md5|0x5C5C5C5C|0x36363636|128|0123456789abcdef|0123456789ABCDEF|binl2b64|else||b64pad|hexcase|charCodeAt|ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789|0x3F|binl2hex'.split('|'),0,{}))


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('6 f=1(){$(\'#h\').2(1(){c()});$(\'#d\').2(1(){e=3;m=i;k=3});$(\'#j\').2(1(){l=o});$(\'#n\').2(1(){9(4);9(7);g=3;4=8(y,x);7=8(w,z);$(C).B({\'A-b\':\'r\',\'b\':\'q\'});6 a=p.s(\'v\');a.u=\'0.5\';a.t()})}',39,39,'|function|click|true|set1||var|set2|setInterval|clearInterval||color|reborn|b2|g_die|jquery|g_gamebegin|b4|g_alivetime|b3|g_god|g_alive|g_diebegin|b1|false|document|black|gainsboro|getElementById|play|volume|bgm|time|16|draw|100|background|css|this'.split('|'),0,{}))



eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('1 m=9(){$.k(\'j.h\',\'b=\'+b+\'&d=\'+d+\'&t=\'+n(t)+\'&3=\'+3,9(4,8){l=4+" e: "+8});g=0;f=y;w=0;v(2.6>5){x(1 i=2.6;i>5;i--){2.u()}}1 a=7.c(\'p\');a.o();1 a=7.c(\'q\');a.s=0;a.r()}',35,35,'|var|ballarr|z|data|10|length|document|status|function|||getElementById||上传|g_alive|g_beginbgalpha|php||scoreupload|post|g_up_alivetime|reborn|hex_md5|pause|sad|bgm|play|currentTime||pop|if|g_alivetime|for|true'.split('|'),0,{}))


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('c 8=9(){3(2==0){4=6;7.a()}3(2==1){4=d}3(!4){2+=0.5;3(2>=1){2=1}}b{2-=0.5;3(2<=0){2=0}}}',14,14,'||g_beginbgalpha|if|g_alphaswitch|02|false|bg|changebg|function|change|else|var|true'.split('|'),0,{}))




function Bg(img, x, y) {

    this.img = img;

    this.x = x;

    this.y = y;

    this.move = function () {

        if (g_alive) {

            if (ud && player.y > 1) {

                if (this.x > 15) {

                    this.y -= player.speedy / 4;

                }

            }

            if (dd && player.y < (g_h - player.h - 1)) {

                this.y += player.speedy / 4;

            }

            if (ld && player.x > 1) {

                this.x -= player.speedx / 4;

            }

            if (rd && player.x < (g_w - player.w - 1)) {

                this.x += player.speedx / 4;

            }

        }

        if (!g_alive) {

            if (this.y < 150) {

                this.y += g_gravity / 4;

            }

        }

    }

    this.draw = function () {

        this.move();

        c.globalAlpha = g_beginbgalpha;

        c.drawImage(this.img, this.x, this.y, g_w, g_h, 0, 0, g_w, g_h);

    }

    this.change = function () {

        var i = Math.floor(Math.random() * (g_bgimgnum));

        img_bg.src = bgimgarr[i];

    }

}

function Player(x, y, w, h, color, speedx, speedy, style) {

    this.x = x;

    this.y = y;

    this.h = h;

    this.w = w;

    this.color = color;

    this.speedx = speedx;

    this.speedy = speedy;

    var l_speedx = speedx;

    var l_speedy = speedy;

    var l_initspeed = true;

    var l_eyex;

    var l_eyey;

    

    var speedz = 0.8;

    this.style = style;

    this.move = function () {

        $('#a1').text(Math.round(this.x));

        $('#a2').text(Math.round(this.y));

        $('#a3').text(this.speedx);

        $('#a4').text(this.speedy);

        $('#a5').text(g_alive);

        $('#a13').text(mmx);

        $('#a14').text(mmy);

        $('#a15').text(g_alivetime / 10);

        $('#a16').text(ballarr.length);

        this.crash();

        if (!g_alive) {

            this.gravity();

        } else {

            g_gravity = 1;

        }

        if (g_alive) {

            g_score = g_alivetime * ballarr.length;

            if (ud) {

                this.y -= this.speedy;

            }

            if (dd) {

                this.y += this.speedy;

            }

            if (ld) {

                this.x -= this.speedx;

            }

            if (rd) {

                this.x += this.speedx;

            }

        }

        if (this.x > (g_w - this.w)) {

            this.x = g_w - this.w - 1;

        }

        if (this.x < 0) {

            this.x = 0 + 1;

        }

        if (this.y > (g_w - this.h)) {

            this.y = g_h - this.h - 1;

        }

        if (this.y < 0) {

            this.y = 0 + 1;

        }

    }

    this.moveauto = function () {

        if (!g_alive) {

            if (l_initspeed) {

                l_speedx = this.speedx;

                l_speedy = this.speedy;

                this.speedx *= 5;

                this.speedy *= 5;

                l_initspeed = false;

            }


        } else {

            if (!l_initspeed) {

                this.speedx = l_speedx;

                this.speedy = l_speedy;

                l_initspeed = true;

            }

        }

        this.x += this.speedx;

        this.y += this.speedy;

        if ((this.speedx > 0 && this.x > (g_w - this.w)) || (this.speedx < 0 && this.x < 0)) {

            this.speedx *= -1;

        }

        if ((this.speedy > 0 && this.y > (g_h - this.h)) || (this.speedy < 0 && this.y < 0)) {

            this.speedy *= -1;

        }

    }

    this.moveautotrace = function () {

        var x = this.x - player.x;

        var y = this.y - player.y;

        var z = Math.sqrt(x * x + y * y);

        var k = x / z;

        var i = y / z;

        if (g_alive) {

            this.speedy = -i * speedz;

            this.speedx = -k * speedz;

            l_initspeed = true;

        } else {

            if (l_initspeed) {

                this.speedx = l_speedx;

                this.speedy = l_speedy;

                l_initspeed = false;

            }

        }

        this.x += this.speedx;

        this.y += this.speedy;

        if ((this.speedx > 0 && this.x > (g_w - this.w)) || (this.speedx < 0 && this.x < 0)) {

            this.speedx *= -1;

        }

        if ((this.speedy > 0 && this.y > (g_h - this.h)) || (this.speedy < 0 && this.y < 0)) {

            this.speedy *= -1;

        }


    }

    this.draw = function () {

        c.globalAlpha = 1;

        switch (this.style) {

            case 999:

                this.move();

                break;

            case 102:

                this.moveautotrace();

                break;

            default :

                this.moveauto();

                break;

        }

        if (this.style == 999 && g_alive) {

            c.fillStyle = this.color;

        } else {

            c.globalAlpha = 0.5;

            c.fillStyle = 'gainsboro';

        }

        if (this.style == 845 || this.style == 102) {

            c.strokeStyle = 'black';

            c.fillStyle = this.color;

        }

        if (!g_alive) {

            c.strokeStyle = 'black';

            c.fillStyle = 'white';

        }


        c.strokeRect(this.x, this.y, this.w, this.h);

        c.fillRect(this.x, this.y, this.w, this.h);

        if (this.style == 999) {   

            if (g_alive) {

                if (!g_blink) {

                    l_eyex = this.x + this.w / 2;

                    l_eyey = this.y + this.h / 2;

                    if (ud) {

                        l_eyey = this.y + this.h / 2 - 3;

                    }

                    if (dd) {

                        l_eyey = this.y + this.h / 2 + 3;

                    }

                    if (ld) {

                        l_eyex = this.x + this.w / 2 - 3;

                    }

                    if (rd) {

                        l_eyex = this.x + this.w / 2 + 3;

                    }

                    c.beginPath();

                    c.arc(this.x + this.w / 2, this.y + this.h / 2, this.w / 2 - 1.5, 0, Math.PI * 2, true);

                    c.closePath();



                    c.stroke();
                    c.fillStyle='white';
                    c.fill();

                    c.beginPath();

                    if(g_close){
                        c.arc(l_eyex, l_eyey, 1, 0, Math.PI * 2, true);
                    }else{
                        c.arc(l_eyex, l_eyey, this.w / 4 - 1, 0, Math.PI * 2, true);
                    }


                    c.closePath();

                    c.fillStyle = 'black';

                    c.fill();

                } else {

                    c.beginPath();

                    c.moveTo(this.x + 2, this.y + this.h / 2);

                    c.lineTo(this.x + this.w - 2, this.y + this.h / 2);

                    c.closePath();

                    c.strokeStyle = 'black';

                    c.stroke();

                }

            } else {    

                c.beginPath();

                c.moveTo(this.x + 2, this.y + this.h / 2);

                c.lineTo(this.x + this.w - 2, this.y + this.h / 2);

                c.closePath();

                c.strokeStyle = 'black';

                c.stroke();

            }

        }

        this.interface();

    }

    this.interface = function () {

        var x = 100;

        var y = 220;

        var text;

        var w = 450;

        var t = g_alivetime / 10;

        var x2 = 50;

        var y2 = 50;

        if (this.style == 999 && !g_alive) {

            c.globalAlpha = g_interalpha;

            c.fillStyle = 'white';

            c.fillRect(x, y, w, 150);

            c.fillStyle = 'orange';

            c.fillRect(x, y, w, 30);

            c.strokeRect(x, y, w, 150);

            c.fillStyle = 'black';

            c.font = '20px 微软雅黑';

            c.fillText('温馨提示', x + 10, y + 20);

            c.font = '30px 新宋体';

            switch (true) {

                case t < 5:

                    text = '幼稚园水平,';

                    break;

                case t >= 5 && t < 10:

                    text = '有进步,';

                    break;

                case t >= 10 && t < 20:

                    text = '哟,不错哦,';

                    break;

                default :

                    text = '神乎其技,';

            }

            c.fillStyle = 'grey';

            c.globalAlpha = 1;

            c.fillText(text + '你本次存活了' + t + '秒', x + 5, y + 70);

            c.strokeStyle = 'grey';

            c.font = '20px 微软雅黑';

            mouselisten(x + 151, y + 92, 146, 37);

            if (ismousein) {

                c.fillStyle = 'red';

                c.strokeStyle = 'red';

            }

            if (ismousedown) {

                reborn();

            }

            c.strokeRect(x + 151, y + 92, 146, 37);

            c.fillText('复  活', x + 197, y + 117);

        }

        c.fillStyle = 'black';

        c.font = '5px 宋体';

        if (!g_alive) {

            c.font = '40px 微软雅黑';

            c.fillStyle = '#EDB203';

            x2 = 160 + 50 + 40;

            y2 = 160 + 50;

        }

        c.fillText(g_alivetime/10, x2, y2);

    }

    this.gravity = function () {

        this.y += g_gravity;

        g_gravity += 0.16;

    }

    this.crash = function () {

        var d, D, x2, y2;

        var x1 = player.x + player.w / 2;

        var y1 = player.y + player.h / 2;

		
		
        if (!g_god) {

            for (var i = 0; i < ballarr.length; i++) {

                x2 = ballarr[i].x + ballarr[i].w / 2;

                y2 = ballarr[i].y + ballarr[i].h / 2;

                d = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));

                D = player.w / 2 + ballarr[i].w / 2;

                g_d=d-D;

                if (g_d<0 && g_alive) {

                    g_alive = false;
                    var a = document.getElementById('dead');
                    a.play();
                    var a = document.getElementById('bgm');
                    a.pause();
                    var a = document.getElementById('sad');
                    a.currentTime=0;
                    a.play();
                }
                if(g_d<20){
                    g_close=true;
                }


            }

        }

    }

}



</script>

<!------------------------------------->



</body></html>